# AI 세무 어시스턴트 정책서 (상세)

**Last Updated**: 2026년 2월 5일
**Related Documents**:
- MVP 제안서: [AI_Tax_Assistant.md](../../AI_Tax_Assistant.md)
- JTBD: [USER_001_2026-02-03.md](../../../../User%20Discover/User%20Interview/USER_001_2026-02-03.md)
- 기능 정의서: [feature-spec.md](./feature-spec.md)

---

## 1. 기능 개요

### 배경

조윤수님(IT 펫테크 스타트업 CEO)은 매월 부가세 신고 시즌이 되면 **10시간**을 투입해 세무사에게 전달할 문서를 작성합니다. 약 50건의 입출금 거래에 대해 타임라인을 정리하고, 각 거래의 맥락을 설명하며, 거래들이 상호 어떻게 관련되어 있는지 설명해야 합니다.

조윤수님은 거래 발생 시 은행 앱에 간단한 메모를 남기지만, 세무사는 이를 읽고도 **70% 이상의 비정기 거래**에 대해 재질문합니다. 세무사가 10개 이상의 회사를 관리하며 context를 놓치기 때문입니다.

이 기능은 **두 가지 레이어**로 문제를 해결합니다:
1. **Batch Context Enrichment** (월중): 매일 오전 6시 거래 수집 → 오전 9시 세법/회계법 기반 스마트 질문으로 맥락 축적
2. **Monthly Document Generation** (월말): 축적된 맥락을 바탕으로 세무사용 종합 문서를 자동 생성

MVP v1.0부터 **다수 은행 계좌**(기업/우리/국민/하나)를 지원하여, 모든 사업 계좌를 통합 관리합니다.

### 핵심 가치

- **시간 절약**: 월 10시간 문서 작업 → 10분 리뷰로 단축 (95% 시간 절감)
- **맥락 보존**: 거래 발생 시점에 질문하여 신선한 맥락 확보, 나중에 기억 안 나는 문제 해결
- **세무사 재질문 제거**: 세무사가 이해할 수 있는 형태로 거래 간 관계와 맥락 자동 정리
- **본업 집중**: Adhoc 작업(주 3시간+) → 배치 처리(월말 10분)로 context switching 90% 감소

---

## 2. 유저 상황과 기대

### 유저가 이 기능을 사용할 때의 심리

**월중 (Batch Context Enrichment):**
- "거래 메모 남겼으니 됐다... 근데 나중에 세무사가 또 물어볼 거야"
- "지금은 바쁜데, 나중에 정리하면 기억 안 날 것 같아"
- "어떤 정보를 남겨야 세무사가 재질문 안 할까?"
- "어떤 서류를 챙겨야 하는지도 헷갈려..."

**월말 (Monthly Document Generation):**
- "이번 달도 50건 정리해야 하는데 새벽까지 걸리겠네..."
- "각 거래가 어떻게 연결되어 있었는지 기억이 잘 안 나"
- "세무사가 무엇을 알아야 하는지 파악하는 게 제일 어려워"

### 유저에게 제공해야 할 경험

1. **거래 발생 즉시 맥락 확보** — "지금 답하면 3초, 나중에 답하면 10분" 경험
2. **배치 처리로 본업 집중** — 월중엔 하루 1-2분, 월말엔 10분만 투자
3. **세무사 언어로 자동 번역** — 내 간단한 메모 → 세무사가 이해할 상세 문서
4. **관계 파악 자동화** — "이 거래들이 어떻게 연결되어 있는지" 시스템이 자동으로 정리

---

## 3. 주요 UX 원칙

### 3.1. 맥락 신선도 우선 (Context Freshness First)

- 거래 발생 다음날 아침 9시 스마트 질문을 던져, 유저가 맥락을 기억할 때 빠르게 답변받습니다.
- "지금 3초 vs 나중에 10분" 트레이드오프를 명확히 보여줍니다.
- **의도**: 월말에 "이게 뭐였더라?" 하며 10시간 쓰는 대신, 월중에 매일 아침 1-2분씩 투자하여 총 시간을 줄임

### 3.2. 배치 처리 기본 (Batch by Default)

- 매일 오전 6시 팝빌 API로 전날 거래 일괄 수집
- 오전 9시 "하루 2-3건 모아서" 슬랙 알림
- 월말 문서 리뷰도 "한 번에 50건 훑어보고" 10분 완료
- **의도**: Context switching 최소화, 본업 집중 보장, API 과금 최적화

### 3.3. 세법 기반 스마트 질문 (Tax-Law Driven Questions)

- 단순히 "무슨 거래인가요?"가 아니라, 세법/회계법에 근거한 구체적 질문:
  - "개발비인가요, 운영비인가요?" (세액공제 대상 여부)
  - "정기 지출인가요?" (패턴 인식 및 누락 확인)
  - "다른 거래와 관련 있나요?" (거래 관계 파악)
  - **"계산서/영수증 받으셨나요?"** (증빙 서류 확인)
  - **"파일 업로드 가능하신가요?"** (서류 수집)
- **의도**: 세무사가 필요로 하는 정보와 **증빙 서류**를 유저 언어로 미리 수집

### 3.4. AI 맥락 증폭기 (AI Context Amplifier)

| 항목 | 유저 입력 | AI 증폭 결과 |
|------|----------|-------------|
| **간단한 메모** | "AWS 서버비" | "AWS EC2 인스턴스 월 사용료, 개발 환경 운영비, 계정 분류: 경비-통신비, 연구개발비 세액공제 검토 필요" |
| **거래 관계** | 각각 별개 메모 | "1월 15일 AWS 50,000원은 정기 지출로 12월/11월과 동일 패턴. 단, 1월 20일 추가 100,000원은 신규 프로젝트 스케일업으로 비정기" |

- **의도**: 유저는 간단히, AI가 세무사 언어로 번역하여 재질문 제거

---

## 4. 상세 유저 플로우

### 4.1. 거래 자동 Tracking — 시스템 자동 동작

**상황**
- 조윤수님이 비즈니스 실행 중 (거래 발생 인지 못할 수도 있음)
- 시스템이 매일 오전 6시에 팝빌 API로 모든 계좌 일괄 조회 (기업/우리/국민/하나)

**플로우**
1. **배치 조회 실행** (매일 오전 6시):
   - 등록된 모든 은행 계좌에서 전날 거래 내역 조회
   - 예: 기업은행 3건, 우리은행 2건 신규 거래 감지
   - 시스템 DB에 저장, 계좌별로 구분

2. **Enrichment 필요 여부 판단**:
   - 과거 동일 패턴 있나? → 정기 지출로 판단, 간단한 확인 질문만
   - 처음 보는 거래? → 상세 맥락 질문 필요
   - 계좌 간 이체 감지 → 자동 제외 (중복 카운트 방지)

3. **질문 Queue에 추가**:
   - 오전 9시 슬랙 알림 일괄 발송 (하루 2-3건 모아서)

**디자인 의도**
- 유저는 아무것도 안 해도 **모든 계좌**의 거래가 자동으로 tracking됨
- 배치 처리로 API 과금 최적화 및 context switching 최소화
- 다수 계좌 통합 관리로 전체 자금 흐름 파악

---

### 4.2. 스마트 질문 수신 및 답변 — 맥락 확보

**상황**
- 오전 9시, 슬랙에 알림 도착: "어제 거래 3건 확인 필요"
- 조윤수님이 커피 한 잔 마시며 슬랙 확인

**플로우**
1. **슬랙 메시지 확인**:
   ```
   📊 어제 거래 3건 확인 필요 (예상 소요: 2분)

   1️⃣ 2026-02-05 14:30, AWS 50,000원 지출 (기업은행)
   💬 질문:
   - 개발비인가요, 운영비인가요?
   - 정기 지출인가요? (매월 반복?)
   - 다른 AWS 지출과 관련 있나요?
   - 📎 계산서/영수증 받으셨나요?
   - 📤 파일 업로드 가능하신가요?

   [답변하기 →]
   ```

2. **답변 (슬랙 인터랙티브 버튼)**:
   - "개발비 > 운영비"
   - "네, 정기 지출 (매월 15일)"
   - "1월 20일 AWS 추가 지출과는 별개"
   - "네, 이메일로 받았어요"
   - [파일 업로드] → PDF/이미지 첨부
   - 소요 시간: 1분

3. **Enriched Context 자동 저장**:
   ```json
   {
     "transaction_id": "2026-02-05-AWS",
     "account": "기업은행",
     "user_memo": "AWS 서버비",
     "enriched_context": {
       "category": "개발비 - 클라우드 운영",
       "recurring": true,
       "frequency": "월 1회, 매월 15일",
       "related_transactions": ["2026-01-15-AWS", "2025-12-15-AWS"],
       "tax_notes": "연구개발비 세액공제 대상 가능성",
       "documents": {
         "invoice_received": true,
         "files": ["invoice_2026-02-05_AWS.pdf"],
         "status": "✅ 준비 완료"
       }
     },
     "timestamp": "2026-02-06 09:05"
   }
   ```

**디자인 의도**
- 맥락이 신선할 때 (거래 발생 후 하루 이내) 빠르게 답변
- 슬랙으로 업무 흐름에 자연스럽게 통합
- 객관식/버튼 위주로 30초 내 완료

---

### 4.3. 월말 문서 자동 생성 — 10시간 → 10분

**상황**
- 2월 25일 (부가세 신고 3일 전)
- 조윤수님, 평소처럼 "아 또 문서 작업..."하려는데 슬랙 알림

**플로우**
1. **월말 문서 생성 완료 알림**:
   ```
   📄 2월 부가세 신고 문서 준비 완료!

   총 48건 거래 정리됨
   - 정기 지출: 30건 (자동 분류)
   - 비정기 지출: 18건 (상세 맥락 포함)

   [문서 확인하기 →] (예상 소요: 10분)
   ```

2. **웹 대시보드 접속**:
   - 50건 거래 타임라인 자동 생성됨
   - 각 거래별 enriched context 표시
   - **거래 간 관계 자동 설명** (핵심!)

3. **문서 내용 예시**:
   ```markdown
   ## 2월 입출금 내역 요약 (48건)

   ### 📋 증빙 서류 체크리스트

   | 상태 | 건수 | 설명 |
   |------|------|------|
   | ✅ 준비 완료 | 42건 | 계산서/영수증 수집 완료 |
   | ⚠️ 준비 필요 | 4건 | 계산서 미수령, 요청 필요 |
   | ❌ 증빙 불가 | 2건 | 개인 간 거래 (증빙 없음) |

   ### 🔄 정기 지출 (30건)

   #### AWS 클라우드 서비스
   - 계좌: 기업은행
   - 2월 15일: 50,000원 (개발 환경 운영비)
   - 패턴: 매월 15일 반복 (1월, 12월 동일)
   - 계정 분류: 경비 - 통신비
   - 세무 처리: 연구개발비 세액공제 검토 필요
   - 증빙: ✅ 계산서 첨부 (invoice_2026-02-05_AWS.pdf)

   #### 직원 급여
   - 2월 5일: 2,000,000원 (직원 A 월급)
   - 패턴: 매월 5일 반복
   - 계정 분류: 급여

   ### ⚡ 비정기 지출 (18건)

   #### 마케팅 조사 관련
   - 2월 10일: 200,000원 (유저 인터뷰 섭외비) - 우리은행
   - 2월 12일: 150,000원 (인터뷰 장소 대관비) - 우리은행
   - 2월 15일: 300,000원 (설문 응답자 리워드) - 기업은행
   - **거래 관계**: 위 3건은 모두 2월 신규 기능 출시 사전 유저 리서치와 관련
   - 계정 분류: 마케팅비 - 조사비
   - 증빙: ⚠️ 계산서 준비 필요 (섭외비 영수증 미수령)

   #### 신규 프로젝트 관련
   - 2월 20일: 100,000원 (AWS 스케일업, 기존 정기 지출 외 추가) - 기업은행
   - 이유: 2월 18일 론칭한 신규 프로젝트 트래픽 증가 대응
   - 계정 분류: 개발비 - 인프라 확장
   - 증빙: ✅ 계산서 첨부
   ```

4. **리뷰 및 수정** (10분):
   - 전체 흐름 훑어보기
   - 디테일 수정 (예: "유저 리서치" → "고객 피드백 조사")
   - 세무사에게 강조할 부분 하이라이트

5. **세무사 발송** (클릭 한 번):
   - 엑셀 export → 이메일 자동 발송
   - 또는 PDF 생성 → 메일 첨부

**디자인 의도**
- 10시간 작업이 10분 리뷰로 단축
- 거래 간 관계를 시스템이 자동으로 파악하여 설명 (핵심 차별점)
- 세무사가 이해할 수 있는 형태로 자동 정리

---

### 4.4. 세무사 전달 및 재질문 제거 — 최종 목표

**상황**
- 문서 발송 후, 부가세 신고 기간 동안 세무사와의 커뮤니케이션

**플로우**
1. **기존 (AS-IS)**:
   - 세무사: "2월 10일 200,000원 지출은 뭔가요?"
   - 조윤수님: 이메일 확인 → 기억 떠올리기 → 10분 설명 작성
   - 반복 (주 10회)

2. **새로운 (TO-BE)**:
   - 세무사: 문서 확인 → 모든 정보 포함 → 재질문 없음
   - 조윤수님: 세무사 전화/이메일 0회
   - 월말 10분 리뷰만으로 종료

**디자인 의도**
- 세무사 재질문 0회 = 본업 집중 가능
- Adhoc 작업 완전 제거

---

### 4.5. 과거 패턴 학습 및 자동 분류 — 점점 똑똑해짐

**상황**
- 3개월 사용 후, 시스템이 조윤수님의 거래 패턴 학습

**플로우**
1. **반복 거래 자동 인식**:
   - "AWS 50,000원" → 질문 없이 자동 분류 (정기 지출로 학습됨)
   - 단, 금액이 달라지면 질문: "왜 이번엔 100,000원인가요?"

2. **비정기 거래 패턴 학습**:
   - "유저 인터뷰" 키워드 → "마케팅 조사비"로 자동 제안
   - 조윤수님: Yes 클릭만 하면 됨

3. **질문 개수 점진적 감소**:
   - 1개월차: 하루 2-3건 질문
   - 3개월차: 하루 1건 질문 (70% 자동 분류)
   - 6개월차: 주 2-3건 질문 (90% 자동 분류)

**디자인 의도**
- 사용할수록 편해지는 경험
- 초반엔 질문 많지만, 점점 자동화됨
- "못 돌아가는" 수준의 가치 제공

---

## 5. 엣지 케이스 및 예외 처리

### 5.1. 팝빌 API 연결 실패

- **상황**: 은행 "빠른조회 서비스" 미신청 또는 API 인증 오류
- **대응**:
  - 초기 설정 단계에서 팝빌 연결 테스트
  - 실패 시 명확한 에러 메시지와 해결 방법 안내
  - "은행 빠른조회 서비스 신청 필요 (링크)"
- **복구**: 수동으로 거래내역 CSV 업로드 가능 (임시 대안)

### 5.2. 유저가 질문에 답변 안 함

- **상황**: 슬랙 알림 받았지만 3일간 답변 없음
- **대응**:
  - 1일 후: 리마인더 알림
  - 3일 후: "답변 없이 넘어가기" 옵션 제공, 월말 문서에 "확인 필요" 표시
  - 월말 문서 생성 시: 미답변 거래는 "상세 맥락 없음" 섹션에 별도 표시
- **복구**: 월말 리뷰 시점에 수동으로 맥락 추가 가능

### 5.3. 월말 문서 생성 실패

- **상황**: AI API 오류 또는 데이터 부족
- **대응**:
  - 자동 재시도 (3회)
  - 실패 시 간소화 버전 생성 (enriched context 없이 기본 거래 내역만)
  - 유저에게 알림: "수동 보완 필요"
- **복구**: 기존 엑셀 다운로드 + 수동 작성 (기존 방식 fallback)

### 5.4. 세무사가 여전히 재질문함

- **상황**: 문서 보냈는데 세무사가 특정 거래에 대해 질문
- **대응**:
  - 질문 내용 시스템에 피드백으로 저장
  - 다음 달부터 해당 정보 자동으로 포함
  - 예: "세무사가 퇴직금 포함 여부 물어봄" → 다음 급여 거래 시 "퇴직금 포함 여부" 질문 추가
- **학습**: 세무사별 선호 정보 학습하여 문서 품질 향상

---

## 6. 향후 고려사항

### 6.1. 다수 유저 (팀) 지원

- **현재**: 조윤수님 개인 도구
- **향후**: 팀 멤버가 각자 거래 메모 작성 → 통합 문서 생성
  - 예: CFO가 최종 리뷰, 팀원들이 각자 거래 설명
  - 권한 관리 필요

### 6.2. 세무사 직접 연동

- **현재**: 엑셀/이메일로 수동 전달
- **향후**: 세무사 시스템 API 직접 연동
  - 세무사 웹페이지 자동 업로드
  - 세무사 feedback 양방향 연동

### 6.3. 음성 입력 지원

- **현재**: 슬랙 버튼/텍스트 입력
- **향후**: 음성으로 간단히 답변
  - 예: "AWS는 개발비로 정기 지출이야" → 음성 인식 → 자동 분류

### 6.4. 세법/회계법 자동 업데이트

- **현재**: 세법/회계법 규칙을 수동으로 프롬프트에 반영
- **향후**: 법령 변경 시 자동 감지 및 질문 로직 업데이트
  - 국세청 API 또는 법령 데이터베이스 연동
  - 세법 개정 시 자동 알림 및 질문 템플릿 조정
  - 예: "2026년부터 연구개발비 세액공제율 변경" → 자동 반영

---

## 7. 핵심 메트릭

| 메트릭 | 설명 | 목표 |
|--------|------|------|
| **월말 문서 작업 시간** | 세무사 전달 문서 준비 소요 시간 | 10시간 → 10분 (95% 감소) |
| **세무사 재질문 횟수** | 부가세 신고 기간 중 세무사 질문 건수 | 주 10회 → 0회 |
| **Real-time 질문 응답률** | 슬랙 질문에 24시간 내 답변한 비율 | 90% 이상 |
| **자동 분류 정확도** | 반복 거래 자동 분류 정확도 | 3개월 후 90% |
| **Context Switching 횟수** | 회계 업무로 인한 본업 중단 횟수 | 주 10회 → 주 1회 |
| **Big Fan 전환율** | "주변에 추천하고 싶다" 응답 | 100% (조윤수님) |

---

## 8. 정책 요약

1. **Two-Layer System**: Batch Context Enrichment (월중 매일 아침 1-2분) + Monthly Document Generation (월말 10분)
2. **배치 처리 기본**: 매일 6시 거래 수집 → 9시 슬랙 알림으로 API 과금 최적화 및 context switching 최소화
3. **맥락 신선도 우선**: 거래 발생 다음날 아침 스마트 질문으로 맥락이 신선할 때 확보
4. **세법 기반 스마트 질문 + 서류 수집**: 세무사가 필요로 하는 정보와 증빙 서류를 유저 언어로 미리 수집
5. **AI 맥락 증폭**: 유저의 간단한 메모를 세무사가 이해할 상세 문서로 자동 변환
6. **거래 관계 자동 파악**: 50건 거래가 상호 어떻게 연결되어 있는지 시스템이 자동 설명
7. **다수 계좌 통합 관리**: 기업/우리/국민/하나 은행 계좌를 v1.0부터 동시 tracking, 계좌 간 이체 자동 인식
