# AI 세무 어시스턴트 PRD 문서

**생성 일시**: 2026년 2월 6일
**최종 편집 일시**: 2026년 2월 6일
**상태**: Design 완료, 구현 대기

---

## 1. Product 목표 & Success 정의

### 1.1. 제품 컨텍스트 요약

- **AI 세무 어시스턴트**의 핵심 가치:
    > "거래 발생 시점에 맥락을 확보하여, 월말 10시간 문서 작업을 10분 리뷰로 단축"

- 지금까지:
    - (1) 수동 거래 메모 작성 (은행 앱)
    - (2) 월말 새벽 1시까지 문서 정리 (10시간)
    - (3) 세무사 재질문 대응 (주 10회)

- 새로 추가하는 **AI 세무 어시스턴트**:
    - (4) **배치 거래 수집** (매일 6시 팝빌 API 조회)
    - (5) **스마트 질문 + 서류 수집** (매일 9시 슬랙 알림)
    - (6) **월말 문서 자동 생성** (거래 간 관계 자동 설명)

### 1.2. 왜 AI 세무 어시스턴트가 중요한가 (Aha-Moment 관점)

- 현재 조윤수님의 Aha-moment는 "세무사 재질문 0회"에 과도하게 의존
    - 세무사가 10개 이상 회사를 관리하며 context를 놓치기 때문에, 아무리 상세히 작성해도 70% 이상 거래에서 재질문 발생
    - 월말 10시간 문서 작업이 반복되며 "진절머리 난다"는 표현

- 우리가 통제 가능한 Aha:
    - **"거래 발생 다음날 아침 9시, 3초 답변으로 맥락 확보 → 월말 10분 리뷰로 세무사 전달 완료"**
    - **"세무사가 이해할 수 있는 형태로 거래 간 관계를 AI가 자동 설명 → 재질문 0회"**

> 따라서 AI 세무 어시스턴트의 최우선 목표:
> - *"월말 문서 작업 시간 10시간 → 10분 (95% 감소)"*
> - *"세무사 재질문 횟수 주 10회 → 0회"*
> - *"Context switching 횟수 주 10회 → 주 1회 (90% 감소)"*

---

## 2. JTBD 정의

### JTBD #1 - "월말 문서 정리 지옥 탈출" (월말 부가세 신고 시즌)

> **When**
> 나는 매월 부가세 신고 시즌(25일~말일)이 되어 세무사에게 전달할 문서를 작성해야 할 때

> **I want to**
> 50건의 거래 내역을 세무사가 이해할 수 있는 형태로 정리하되, 10시간이 아닌 10분만 투자하고 싶다

> **So that**
> 본업(비즈니스 실행)에 집중할 수 있고, 세무사 재질문 없이 부가세 신고를 마무리할 수 있다

---

### JTBD #2 - "거래 발생 시 맥락 신선하게 확보" (월중 거래 발생 시)

> **When**
> 나는 거래가 발생했을 때 (AWS 결제, 급여 지급, 마케팅 비용 등)

> **I want to**
> "이게 뭐였더라?" 나중에 기억 안 나는 문제 없이, 발생 시점에 3초만 답변해서 맥락을 확보하고 싶다

> **So that**
> 월말에 기억을 더듬느라 10시간 쓰는 대신, 월중에 매일 1-2분씩만 투자하여 총 시간을 절약할 수 있다

---

### JTBD #3 - "세무사 재질문 원천 차단" (세무사 커뮤니케이션 시)

> **When**
> 나는 세무사에게 거래 내역을 전달했을 때

> **I want to**
> 세무사가 "이게 뭐예요?", "개발비인가요?" 같은 재질문 없이 바로 이해할 수 있도록, 거래 간 관계와 맥락이 자동으로 정리되기를 원한다

> **So that**
> 세무사 전화 받느라 본업 흐름이 끊기는 일 없이, context switching을 90% 줄일 수 있다

---

## 3. 유저 가치 & 비즈니스 가치 정리

### 유저 가치

1. **시간 절약 (95% 감소)**
    - 월말 10시간 문서 작업 → 10분 리뷰
    - 월중 매일 1-2분씩만 투자 (하루 커피 한 잔 마시는 시간)

2. **맥락 보존 (기억 부담 제거)**
    - 거래 발생 다음날 아침 질문으로 신선한 맥락 확보
    - "이게 뭐였더라?" 없이 30초 버튼 클릭만으로 완료

3. **세무사 재질문 제거 (정신적 여유)**
    - AI가 세무사 언어로 자동 번역
    - 거래 간 관계를 시스템이 자동 설명
    - 증빙 서류 체크리스트로 미리 준비

4. **본업 집중 (Context switching 90% 감소)**
    - 배치 처리 (매일 9시 한 번)로 adhoc 작업 제거
    - 세무사 전화 주 10회 → 0회

### 비즈니스 가치

1. **Big Fan 전환율 100%**
    - 조윤수님(IT 스타트업 CEO) 타겟
    - "못 돌아가는" 수준의 가치 제공
    - 주변 창업가들에게 추천하고 싶은 수준

2. **확장 가능성 (Global Scalable)**
    - 동일 직무(CEO/Founder, 10인 이하 스타트업)에서 보편적 pain point
    - 세무대행 비용 지불하면서도 본인이 다 관여해야 하는 문제
    - 국내 스타트업 약 10만 개 잠재 고객

3. **완전 로컬 아키텍처 (규제 회피)**
    - 금융중개업 라이선스 불필요
    - 유저 데이터 주권 보장
    - 법적 리스크 최소화

---

## 4. AI 세무 어시스턴트 전체 유저 플로우 (High-level)

### Flow A. 월중 배치 맥락 확보 (매일 오전 6시~9시)

- Entry Point: **시스템 자동 트리거 (매일 오전 6시)**
- 조윤수님은 아무것도 안 해도 자동으로 거래 수집
- AI 세무 어시스턴트 진행 과정:
    - Step 1: 매일 6시 팝빌 API로 모든 계좌 일괄 조회 (기업/우리/국민/하나)
    - Step 2: 신규 거래 감지 → 과거 패턴 분석 → 질문 생성
    - Step 3: 오전 9시 슬랙 알림 (하루 2-3건 모아서 배치 발송)
- 완료 후: 조윤수님이 30초~1분 답변 → EnrichedContext 자동 저장

---

### Flow B. 월말 문서 자동 생성 (부가세 신고 3일 전)

- Entry Point: **매월 25일 오전 9시 자동 트리거**
- 슬랙 알림: "2월 문서 준비 완료! (48건)"
- AI 세무 어시스턴트 진행 과정:
    - Step 1: 48건 거래 자동 분류 (정기 30건, 비정기 18건)
    - Step 2: 거래 간 관계 자동 파악 (AI가 관계 설명 생성)
    - Step 3: 증빙 서류 체크리스트 생성 (✅ 준비 완료 / ⚠️ 준비 필요 / ❌ 증빙 불가)
    - Step 4: 마크다운 문서 생성 (세무사가 이해할 형태)
- 완료 후: 웹 대시보드 접속 → 10분 리뷰 → 세무사 이메일 발송

---

### Flow C. 과거 패턴 학습 (3개월 후)

- Entry Point: **반복 거래 자동 인식**
- 주요 기능:
    - AWS 50,000원 거래 → 질문 없이 자동 분류 (정기 지출로 학습됨)
    - 단, 금액이 ±20% 이상 차이 나면 재질문
    - 3개월 후 질문 개수 70% 감소 (자동 분류 90%)

---

## 5. 상세 유저 플로우

### 5.1. 배치 거래 수집 (매일 오전 6시) — 자동 동작

**상황**

- 조윤수님이 비즈니스 실행 중 (거래 발생 인지 못할 수도 있음)
- 시스템이 매일 오전 6시에 자동으로 팝빌 API 호출

**플로우**

1. **팝빌 API 일괄 조회**:
   - 등록된 모든 계좌 (기업은행, 우리은행, 국민은행, 하나은행) 병렬 조회
   - 전날 발생한 거래 내역 수집
   - 예: 기업은행 3건, 우리은행 2건 신규 거래 감지

2. **중복 제거 및 패턴 분석**:
   - 계좌 간 이체 자동 감지 → 중복 카운트 방지
   - 과거 동일 패턴 검색 (정기 지출 자동 인식)
   - 처음 보는 거래 → "needs_enrichment" 플래그

3. **질문 Queue 추가**:
   - 오전 9시 슬랙 알림을 위해 Queue에 저장

**디자인 의도**

- 유저는 아무것도 안 해도 **모든 계좌**의 거래가 자동으로 tracking됨
- 배치 처리로 API 과금 최적화 (하루 1회 조회)
- 다수 계좌 통합 관리로 전체 자금 흐름 파악

---

### 5.2. 스마트 질문 + 서류 수집 (매일 오전 9시) — 맥락 확보

**상황**

- 오전 9시, 슬랙 알림: "어제 거래 3건 확인 필요 (예상 소요: 2분)"
- 조윤수님이 커피 한 잔 마시며 슬랙 확인

**플로우**

1. **세법 기반 스마트 질문**:
   ```
   1️⃣ 2026-02-05 14:30, AWS 50,000원 지출 (기업은행)

   💬 질문:
   - 개발비인가요, 운영비인가요? [개발비] [운영비]
   - 정기 지출인가요? [네, 매월 반복] [아니오, 일회성]
   - 다른 AWS 지출과 관련 있나요? [1월 20일과 관련] [별개]
   - 📎 계산서/영수증 받으셨나요? [네] [아니오] [요청할 예정]
   - 📤 파일 업로드 가능하신가요? [파일 업로드 →] [나중에]
   ```

2. **30초~1분 답변** (슬랙 버튼 클릭):
   - 객관식 버튼 클릭만으로 빠르게 완료
   - 필요 시 파일 업로드 (PDF/이미지)

3. **EnrichedContext 자동 저장**:
   ```json
   {
     "transaction_id": "2026-02-05-IBK-AWS-001",
     "account": "기업은행",
     "user_memo": "AWS 서버비",
     "enriched_context": {
       "category": "개발비 - 클라우드 운영",
       "recurring": true,
       "frequency": "월 1회, 매월 15일",
       "related_transactions": ["2026-01-15-IBK-AWS"],
       "tax_notes": "연구개발비 세액공제 대상 가능성",
       "documents": {
         "invoice_received": true,
         "files": ["~/ai-tax-assistant/documents/invoice_2026-02-05_AWS.pdf"],
         "status": "✅ 준비 완료"
       }
     }
   }
   ```

**디자인 의도**

- 맥락이 신선할 때 (거래 발생 후 하루 이내) 빠르게 답변
- 슬랙으로 업무 흐름에 자연스럽게 통합
- 증빙 서류도 미리 수집하여 월말 체크리스트 생성

---

### 5.3. 월말 문서 자동 생성 (매월 25일) — 10시간 → 10분

**상황**

- 2월 25일 오전 9시 (부가세 신고 3일 전)
- 슬랙 알림: "2월 문서 준비 완료! (48건)"

**플로우**

1. **거래 자동 분류**:
   - 정기 지출 30건 (AWS, 급여 등)
   - 비정기 지출 18건 (마케팅, 프로젝트별)
   - 확인 필요 0건 (모두 맥락 확보됨)

2. **거래 간 관계 자동 설명** (핵심!):
   ```markdown
   ### [그룹 1: 마케팅 조사 관련]

   **거래 관계**:
   위 3건은 모두 2월 신규 기능 출시 사전 유저 리서치와 관련.
   인터뷰 진행을 위한 일련의 지출.

   **거래 내역**:
   1. 2월 10일: 200,000원 - 유저 인터뷰 섭외비 (우리은행)
   2. 2월 12일: 150,000원 - 인터뷰 장소 대관비 (우리은행)
   3. 2월 15일: 300,000원 - 설문 응답자 리워드 (기업은행)

   **증빙**: ⚠️ 계산서 준비 필요 (섭외비 영수증 미수령)
   ```

3. **증빙 서류 체크리스트 생성**:
   ```markdown
   ## 📋 증빙 서류 체크리스트

   | 상태 | 건수 | 설명 |
   |------|------|------|
   | ✅ 준비 완료 | 42건 | 계산서/영수증 수집 완료 |
   | ⚠️ 준비 필요 | 4건 | 계산서 미수령, 요청 필요 |
   | ❌ 증빙 불가 | 2건 | 개인 간 거래 (증빙 없음) |
   ```

4. **10분 리뷰 및 세무사 발송**:
   - 웹 대시보드 접속 → 전체 훑어보기
   - 디테일 수정 (예: "유저 리서치" → "고객 피드백 조사")
   - 엑셀 export → 이메일 자동 발송

**디자인 의도**

- 10시간 작업이 10분 리뷰로 단축
- 거래 간 관계를 시스템이 자동으로 파악하여 설명
- 증빙 서류 체크리스트로 세무사 재질문 원천 차단

---

## 6. Open Questions

### ✅ 해결된 질문

- **2026-02-06** - Design Step 진행
    - Q: 실시간 tracking vs 배치 tracking?
    - A: 배치 tracking 선택 (매일 6시 조회 → 9시 알림)
    - 이유: API 과금 최적화, context switching 최소화

- **2026-02-06** - 서류 수집 기능 추가
    - Q: 스마트 질문에 서류 수집도 포함?
    - A: Yes, 증빙 서류 체크리스트 필수
    - 이유: 세무사 재질문 원천 차단

- **2026-02-06** - 다수 은행 계좌 v1.0 포함
    - Q: 다수 은행 계좌는 v1.1로 미룰까?
    - A: No, v1.0에 포함 (기업/우리/국민/하나)
    - 이유: 조윤수님 실제 니즈 (여러 계좌 사용)

### 📋 미확인 사항 (비차단)

- **Real-time 질문 타이밍**
    - 현재: 매일 오전 9시
    - 확인 필요: 저녁 6시가 더 편할 수도?

- **월말 문서 트리거 타이밍**
    - 현재: 부가세 신고 3일 전 (25일)
    - 확인 필요: 5일 전이 더 여유로울 수도?

- **세무사 선호 포맷**
    - 현재: 엑셀 export
    - 확인 필요: CSV나 PDF 선호 가능성?

---

## 7. 참고자료

### 관련 문서

- **JTBD**: [USER_001_2026-02-03.md](../../../User%20Discover/User%20Interview/USER_001_2026-02-03.md)
- **MVP 제안서**: [AI_Tax_Assistant.md](../../AI_Tax_Assistant.md)
- **상세 정책서**: [detailed-policy.md](./detailed-policy.md)
- **기능 정의서**: [feature-spec.md](./feature-spec.md)

### 기술 검증

- 팝빌 API 리서치 완료 (2026-02-04)
- 로컬 DB 아키텍처 설계 완료 (2026-02-06)
- 완전 로컬 구현 방안 확정 (금융중개업 규제 회피)

### 핵심 결정 사항

1. **배치 처리 우선** (Real-time 아님)
   - 매일 6시 거래 수집 → 9시 슬랙 알림
   - 이유: API 과금 최적화, context switching 최소화

2. **서류 수집 포함** (질문만 아님)
   - 계산서/영수증 파일 업로드
   - 월말 체크리스트 생성

3. **다수 계좌 v1.0** (단일 계좌 아님)
   - 기업/우리/국민/하나 동시 지원
   - 계좌 간 이체 자동 감지

4. **완전 로컬 아키텍처**
   - 팝빌 API Key: 유저 디바이스 암호화 저장
   - 거래 내역: 로컬 DB (SQLite/PostgreSQL)
   - 증빙 서류: 로컬 파일 시스템 (`~/ai-tax-assistant/documents/`)

---

## 8. Success Metrics (정량적 목표)

| 메트릭 | AS-IS | TO-BE | 목표 |
|--------|-------|-------|------|
| **월말 문서 작업 시간** | 10시간 | 10분 | 95% 감소 |
| **세무사 재질문 횟수** | 주 10회 | 0회 | 100% 감소 |
| **Context Switching** | 주 10회 | 주 1회 | 90% 감소 |
| **Real-time 질문 응답률** | - | 90% 이상 | 24시간 내 답변 |
| **자동 분류 정확도** | - | 90% 이상 | 3개월 후 목표 |
| **Big Fan 전환율** | - | 100% | 조윤수님 |

---

**Document Version**: 1.0
**Last Updated**: 2026-02-06
**Status**: ✅ Design 완료, 구현 대기
**Next Step**: 개발 시작 (팝빌 API 연동)
